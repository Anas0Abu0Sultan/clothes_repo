{% extends 'base.html' %}

{% block content %}
  <!-- Breadcrumb Start -->
  <div class="container-fluid">
    <div class="row px-xl-5">
      <div class="col-12">
        <nav class="breadcrumb bg-light mb-30">
          <a class="breadcrumb-item text-dark" href="/">Home</a>
          <span class="breadcrumb-item active">Contact</span>
        </nav>
      </div>
    </div>
  </div>
  <!-- Breadcrumb End -->

  <!-- Contact Start -->
  <div class="container-fluid">
    <h2 class="section-title position-relative text-uppercase mx-xl-5 mb-4"><span class="bg-secondary pr-3">Contact Us</span></h2>
    <div class="row px-xl-5">
      <div class="col-lg-7 mb-5">
        <div class="contact-form bg-light p-30">
          <div id="success"></div>
          {% if success_message %}
          <div id="notification" class="notification">
            <span class="close" onclick="closeNotification()">&times;</span>
            <p>{{ success_message }}</p>
          </div>
          <script>
            // Automatically close the notification after 5 seconds
            setTimeout(function() {
              closeNotification();
            }, 5000);
        
            // Function to close the notification
            function closeNotification() {
              var notification = document.getElementById('notification');
              notification.style.display = 'none';
            }
          </script>
        {% endif %}
        <style>
            .notification {
              position: fixed;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              background-color: #28a745;
              color: #fff;
              padding: 15px;
              border-radius: 4px;
              box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
              width: 300px;
            }
          
            .notification .close {
              cursor: pointer;
              float: right;
              font-size: 20px;
              font-weight: bold;
              color: #fff;
            }
          
            .notification p {
              margin: 0;
            }
          </style>
          
          <form method="POST" action="{% url 'contact_view' %}">
            {% csrf_token %}

            <div class="control-group">
              <input type="text" class="form-control" id="name" name="name" placeholder="Your Name" required>
              <p class="help-block text-danger"></p>
            </div>
            <div class="control-group">
              <input type="email" class="form-control" id="email" name="email" placeholder="Your Email" required>
              <p class="help-block text-danger"></p>
            </div>
            <div class="control-group">
              <input type="text" class="form-control" id="subject" name="subject" placeholder="Subject" required>
              <p class="help-block text-danger"></p>
            </div>
            <div class="control-group">
              <textarea class="form-control" rows="8" id="message" name="message" placeholder="Message" required></textarea>
              <p class="help-block text-danger"></p>
            </div>
            <div>
              <button class="btn btn-primary py-2 px-4" type="submit" id="sendMessageButton">Send Message</button>
            </div>
          </form>
        </div>
      </div>
      <div class="col-lg-5 mb-5">
        <div class="bg-light p-30 mb-30">
          <iframe style="width: 100%; height: 250px;" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d28133.524660091227!2d34.437616458020586!3d31.5225643070707!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x150329ef8cc0e855%3A0x2e7e446d88c166f7!2sGaza!5e0!3m2!1sen!2s!4v1626599333615!5m2!1sen!2s" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
        </div>

        <div class="bg-light p-30 mb-3">
          <p class="mb-2"><i class="fa fa-map-marker-alt text-primary mr-3"></i>123 Street, Nusirat, Gaza</p>
          <p class="mb-2"><i class="fa fa-envelope text-primary mr-3"></i>abusultananasbch@gmail.com</p>
          <p class="mb-2"><i class="fa fa-phone-alt text-primary mr-3"></i>+972 594 073 606</p>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
